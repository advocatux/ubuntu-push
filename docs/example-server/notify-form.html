<!doctype html>
<html lang="en">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="//maxcdn.bootstrapcdn.com/bootswatch/3.2.0/united/bootstrap.min.css" rel="stylesheet">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
<script>
function enableControls() {
    disabled = !($('#enable')[0].checked);
    $('#popup')[0].disabled=disabled;
    $('#persistent')[0].disabled=disabled;
    $('#sound')[0].disabled=disabled;
    $('#vibrate')[0].disabled=disabled;
    $('#counter')[0].disabled=disabled;
};

function showError()
{
    var vars = [], hash;
    var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
    for(var i = 0; i < hashes.length; i++)
    {
        hash = hashes[i].split('=');
        vars.push(hash[0]);
        vars[hash[0]] = decodeURIComponent(hash[1]);
    }
    if (vars["error"]) {
        $("<div class='alert alert-danger' role='alert'>" + vars["error"] + "</div>").insertAfter ($("h1"))
    }
}

</script>
<title>Send a notification</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
</head>
<body>
<div class="container">
<H1>Send a notification</H1>
<form method="POST" action="/play-notify-form" role="form">
<fieldset>
<div class="form-group">
    <label for="nick">Nick:</label>
    <input  class="form-control" placeholder="Message destination" id="nick" name="nick" type="text" autofocus>
</div>
<div class="form-group">
    <label for="message">Message (JSON):</label>
    <textarea class="form-control" placeholder="Message" id="message" name="message" rows="5"></textarea>
</div>
<div class="checkbox">
    <label> <input type="checkbox" id="enable" name="enable" onclick='enableControls()' checked=true> Enable Notifications </label>
</div>
<div class="checkbox">
    <label> <input type="checkbox" id="popup" name="popup"> Enable Popup </label>
    <label> <input type="checkbox" id="persistent" name="persistent"> Persistent </label>
    <label> <input type="checkbox" id="sound" name="sound"> Make Sound </label>
    <label> <input type="checkbox" id="vibrate" name="vibrate"> Vibrate </label>
    <label for="data">
    <input class="form-control" placeholder="Set Counter" id="counter" name="counter" type="number" autofocus>
    </label>
</div>
    <button type="submit" class="btn btn-primary" value="notify">Submit</button>
</fieldset>
</form>
</div>
<script>
    showError();
</script>
</body>
</html>
